EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "Oxygen concentrator - solenoid valve controller"
Date "2021-03-24"
Rev "1"
Comp "Jomo Kenyatta University Of Agriculture And Technology"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L power:GND #PWR03
U 1 1 6054EDAE
P 3750 3150
F 0 "#PWR03" H 3750 2900 50  0001 C CNN
F 1 "GND" H 3755 2977 50  0000 C CNN
F 2 "" H 3750 3150 50  0001 C CNN
F 3 "" H 3750 3150 50  0001 C CNN
	1    3750 3150
	1    0    0    -1  
$EndComp
Wire Wire Line
	3750 3150 3750 3050
Wire Wire Line
	3750 3050 3450 3050
Wire Wire Line
	3450 3050 3450 3000
Text Notes 1950 1100 0    50   ~ 0
Note\n1) VIN is either 0V or 5V
Connection ~ 3750 3050
Wire Wire Line
	3550 2500 3550 2350
Wire Wire Line
	3550 2500 3750 2500
$Comp
L Device:D D1
U 1 1 6054DAE1
P 3550 2200
F 0 "D1" V 3500 2000 50  0000 L CNN
F 1 "1N4001/4007" V 3600 1550 50  0000 L CNN
F 2 "" H 3550 2200 50  0001 C CNN
F 3 "~" H 3550 2200 50  0001 C CNN
	1    3550 2200
	0    1    1    0   
$EndComp
$Comp
L Transistor_FET:BS170 Q1
U 1 1 6054BBD6
P 3650 2700
F 0 "Q1" H 3854 2746 50  0000 L CNN
F 1 "BS170" H 3854 2655 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-92_Inline" H 3850 2625 50  0001 L CIN
F 3 "https://www.onsemi.com/pub/Collateral/BS170-D.PDF" H 3650 2700 50  0001 L CNN
	1    3650 2700
	1    0    0    -1  
$EndComp
Connection ~ 3450 2700
Connection ~ 3750 2500
Wire Wire Line
	3750 2500 4000 2500
Wire Wire Line
	3450 2700 3300 2700
$Comp
L Device:R R3
U 1 1 6054E7F0
P 3450 2850
F 0 "R3" H 3520 2896 50  0000 L CNN
F 1 "10k" H 3520 2805 50  0000 L CNN
F 2 "" V 3380 2850 50  0001 C CNN
F 3 "~" H 3450 2850 50  0001 C CNN
	1    3450 2850
	1    0    0    -1  
$EndComp
Wire Wire Line
	3750 3050 3750 2900
Wire Wire Line
	2850 2700 3000 2700
Text GLabel 2850 2700 0    50   Input ~ 0
VIN1
Wire Wire Line
	4000 2350 4000 2500
$Comp
L Device:R R1
U 1 1 6054E33C
P 3150 2700
F 0 "R1" V 2943 2700 50  0000 C CNN
F 1 "100" V 3034 2700 50  0000 C CNN
F 2 "" V 3080 2700 50  0001 C CNN
F 3 "~" H 3150 2700 50  0001 C CNN
	1    3150 2700
	0    1    1    0   
$EndComp
$Comp
L Device:L L1
U 1 1 6054D17E
P 4000 2200
F 0 "L1" H 4052 2246 50  0000 L CNN
F 1 "4/3VALVE" H 4052 2155 50  0000 L CNN
F 2 "" H 4000 2200 50  0001 C CNN
F 3 "~" H 4000 2200 50  0001 C CNN
	1    4000 2200
	1    0    0    -1  
$EndComp
$Comp
L Device:R R2
U 1 1 6061C5E3
P 4000 1800
F 0 "R2" H 4070 1846 50  0000 L CNN
F 1 "120" H 4070 1755 50  0000 L CNN
F 2 "" V 3930 1800 50  0001 C CNN
F 3 "~" H 4000 1800 50  0001 C CNN
	1    4000 1800
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 1950 4000 2050
$Comp
L power:+12V #PWR0101
U 1 1 6061E341
P 3750 1450
F 0 "#PWR0101" H 3750 1300 50  0001 C CNN
F 1 "+12V" H 3765 1623 50  0000 C CNN
F 2 "" H 3750 1450 50  0001 C CNN
F 3 "" H 3750 1450 50  0001 C CNN
	1    3750 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	3550 2050 3550 1500
Wire Wire Line
	3550 1500 3750 1500
Wire Wire Line
	3750 1500 3750 1450
Wire Wire Line
	3750 1500 4000 1500
Wire Wire Line
	4000 1500 4000 1650
Connection ~ 3750 1500
$Comp
L power:GND #PWR0102
U 1 1 606248F8
P 6000 3150
F 0 "#PWR0102" H 6000 2900 50  0001 C CNN
F 1 "GND" H 6005 2977 50  0000 C CNN
F 2 "" H 6000 3150 50  0001 C CNN
F 3 "" H 6000 3150 50  0001 C CNN
	1    6000 3150
	1    0    0    -1  
$EndComp
Wire Wire Line
	6000 3150 6000 3050
Wire Wire Line
	6000 3050 5700 3050
Wire Wire Line
	5700 3050 5700 3000
Connection ~ 6000 3050
Wire Wire Line
	5800 2500 5800 2350
Wire Wire Line
	5800 2500 6000 2500
$Comp
L Device:D D2
U 1 1 60624904
P 5800 2200
F 0 "D2" V 5750 2000 50  0000 L CNN
F 1 "1N4001/4007" V 5850 1550 50  0000 L CNN
F 2 "" H 5800 2200 50  0001 C CNN
F 3 "~" H 5800 2200 50  0001 C CNN
	1    5800 2200
	0    1    1    0   
$EndComp
$Comp
L Transistor_FET:BS170 Q2
U 1 1 6062490A
P 5900 2700
F 0 "Q2" H 6104 2746 50  0000 L CNN
F 1 "BS170" H 6104 2655 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-92_Inline" H 6100 2625 50  0001 L CIN
F 3 "https://www.onsemi.com/pub/Collateral/BS170-D.PDF" H 5900 2700 50  0001 L CNN
	1    5900 2700
	1    0    0    -1  
$EndComp
Connection ~ 5700 2700
Connection ~ 6000 2500
Wire Wire Line
	6000 2500 6250 2500
Wire Wire Line
	5700 2700 5550 2700
$Comp
L Device:R R6
U 1 1 60624914
P 5700 2850
F 0 "R6" H 5770 2896 50  0000 L CNN
F 1 "10k" H 5770 2805 50  0000 L CNN
F 2 "" V 5630 2850 50  0001 C CNN
F 3 "~" H 5700 2850 50  0001 C CNN
	1    5700 2850
	1    0    0    -1  
$EndComp
Wire Wire Line
	6000 3050 6000 2900
Wire Wire Line
	5100 2700 5250 2700
Text GLabel 5100 2700 0    50   Input ~ 0
VIN2
Wire Wire Line
	6250 2350 6250 2500
$Comp
L Device:R R5
U 1 1 6062491E
P 5400 2700
F 0 "R5" V 5193 2700 50  0000 C CNN
F 1 "100" V 5284 2700 50  0000 C CNN
F 2 "" V 5330 2700 50  0001 C CNN
F 3 "~" H 5400 2700 50  0001 C CNN
	1    5400 2700
	0    1    1    0   
$EndComp
$Comp
L Device:L L2
U 1 1 60624924
P 6250 2200
F 0 "L2" H 6302 2246 50  0000 L CNN
F 1 "4/3VALVE" H 6302 2155 50  0000 L CNN
F 2 "" H 6250 2200 50  0001 C CNN
F 3 "~" H 6250 2200 50  0001 C CNN
	1    6250 2200
	1    0    0    -1  
$EndComp
$Comp
L Device:R R4
U 1 1 6062492A
P 6250 1800
F 0 "R4" H 6320 1846 50  0000 L CNN
F 1 "120" H 6320 1755 50  0000 L CNN
F 2 "" V 6180 1800 50  0001 C CNN
F 3 "~" H 6250 1800 50  0001 C CNN
	1    6250 1800
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 1950 6250 2050
$Comp
L power:+12V #PWR0103
U 1 1 60624931
P 6000 1450
F 0 "#PWR0103" H 6000 1300 50  0001 C CNN
F 1 "+12V" H 6015 1623 50  0000 C CNN
F 2 "" H 6000 1450 50  0001 C CNN
F 3 "" H 6000 1450 50  0001 C CNN
	1    6000 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	5800 2050 5800 1500
Wire Wire Line
	5800 1500 6000 1500
Wire Wire Line
	6000 1500 6000 1450
Wire Wire Line
	6000 1500 6250 1500
Wire Wire Line
	6250 1500 6250 1650
Connection ~ 6000 1500
$Comp
L power:GND #PWR0104
U 1 1 606268E0
P 3700 5500
F 0 "#PWR0104" H 3700 5250 50  0001 C CNN
F 1 "GND" H 3705 5327 50  0000 C CNN
F 2 "" H 3700 5500 50  0001 C CNN
F 3 "" H 3700 5500 50  0001 C CNN
	1    3700 5500
	1    0    0    -1  
$EndComp
Wire Wire Line
	3700 5500 3700 5400
Wire Wire Line
	3700 5400 3400 5400
Wire Wire Line
	3400 5400 3400 5350
Connection ~ 3700 5400
Wire Wire Line
	3500 4850 3500 4700
Wire Wire Line
	3500 4850 3700 4850
$Comp
L Device:D D3
U 1 1 606268EC
P 3500 4550
F 0 "D3" V 3450 4350 50  0000 L CNN
F 1 "1N4001/4007" V 3550 3900 50  0000 L CNN
F 2 "" H 3500 4550 50  0001 C CNN
F 3 "~" H 3500 4550 50  0001 C CNN
	1    3500 4550
	0    1    1    0   
$EndComp
$Comp
L Transistor_FET:BS170 Q3
U 1 1 606268F2
P 3600 5050
F 0 "Q3" H 3804 5096 50  0000 L CNN
F 1 "BS170" H 3804 5005 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-92_Inline" H 3800 4975 50  0001 L CIN
F 3 "https://www.onsemi.com/pub/Collateral/BS170-D.PDF" H 3600 5050 50  0001 L CNN
	1    3600 5050
	1    0    0    -1  
$EndComp
Connection ~ 3400 5050
Connection ~ 3700 4850
Wire Wire Line
	3700 4850 3950 4850
Wire Wire Line
	3400 5050 3250 5050
$Comp
L Device:R R11
U 1 1 606268FC
P 3400 5200
F 0 "R11" H 3470 5246 50  0000 L CNN
F 1 "10k" H 3470 5155 50  0000 L CNN
F 2 "" V 3330 5200 50  0001 C CNN
F 3 "~" H 3400 5200 50  0001 C CNN
	1    3400 5200
	1    0    0    -1  
$EndComp
Wire Wire Line
	3700 5400 3700 5250
Wire Wire Line
	2800 5050 2950 5050
Text GLabel 2800 5050 0    50   Input ~ 0
VIN3
Wire Wire Line
	3950 4700 3950 4850
$Comp
L Device:R R9
U 1 1 60626906
P 3100 5050
F 0 "R9" V 2893 5050 50  0000 C CNN
F 1 "100" V 2984 5050 50  0000 C CNN
F 2 "" V 3030 5050 50  0001 C CNN
F 3 "~" H 3100 5050 50  0001 C CNN
	1    3100 5050
	0    1    1    0   
$EndComp
$Comp
L Device:L L3
U 1 1 6062690C
P 3950 4550
F 0 "L3" H 4002 4596 50  0000 L CNN
F 1 "4/3VALVE" H 4002 4505 50  0000 L CNN
F 2 "" H 3950 4550 50  0001 C CNN
F 3 "~" H 3950 4550 50  0001 C CNN
	1    3950 4550
	1    0    0    -1  
$EndComp
$Comp
L Device:R R7
U 1 1 60626912
P 3950 4150
F 0 "R7" H 4020 4196 50  0000 L CNN
F 1 "120" H 4020 4105 50  0000 L CNN
F 2 "" V 3880 4150 50  0001 C CNN
F 3 "~" H 3950 4150 50  0001 C CNN
	1    3950 4150
	1    0    0    -1  
$EndComp
Wire Wire Line
	3950 4300 3950 4400
$Comp
L power:+12V #PWR0105
U 1 1 60626919
P 3700 3800
F 0 "#PWR0105" H 3700 3650 50  0001 C CNN
F 1 "+12V" H 3715 3973 50  0000 C CNN
F 2 "" H 3700 3800 50  0001 C CNN
F 3 "" H 3700 3800 50  0001 C CNN
	1    3700 3800
	1    0    0    -1  
$EndComp
Wire Wire Line
	3500 4400 3500 3850
Wire Wire Line
	3500 3850 3700 3850
Wire Wire Line
	3700 3850 3700 3800
Wire Wire Line
	3700 3850 3950 3850
Wire Wire Line
	3950 3850 3950 4000
Connection ~ 3700 3850
$Comp
L power:GND #PWR0106
U 1 1 60629512
P 5950 5550
F 0 "#PWR0106" H 5950 5300 50  0001 C CNN
F 1 "GND" H 5955 5377 50  0000 C CNN
F 2 "" H 5950 5550 50  0001 C CNN
F 3 "" H 5950 5550 50  0001 C CNN
	1    5950 5550
	1    0    0    -1  
$EndComp
Wire Wire Line
	5950 5550 5950 5450
Wire Wire Line
	5950 5450 5650 5450
Wire Wire Line
	5650 5450 5650 5400
Connection ~ 5950 5450
Wire Wire Line
	5750 4900 5750 4750
Wire Wire Line
	5750 4900 5950 4900
$Comp
L Device:D D4
U 1 1 6062951E
P 5750 4600
F 0 "D4" V 5700 4400 50  0000 L CNN
F 1 "1N4001/4007" V 5800 3950 50  0000 L CNN
F 2 "" H 5750 4600 50  0001 C CNN
F 3 "~" H 5750 4600 50  0001 C CNN
	1    5750 4600
	0    1    1    0   
$EndComp
$Comp
L Transistor_FET:BS170 Q4
U 1 1 60629524
P 5850 5100
F 0 "Q4" H 6054 5146 50  0000 L CNN
F 1 "BS170" H 6054 5055 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-92_Inline" H 6050 5025 50  0001 L CIN
F 3 "https://www.onsemi.com/pub/Collateral/BS170-D.PDF" H 5850 5100 50  0001 L CNN
	1    5850 5100
	1    0    0    -1  
$EndComp
Connection ~ 5650 5100
Connection ~ 5950 4900
Wire Wire Line
	5950 4900 6200 4900
Wire Wire Line
	5650 5100 5500 5100
$Comp
L Device:R R12
U 1 1 6062952E
P 5650 5250
F 0 "R12" H 5720 5296 50  0000 L CNN
F 1 "10k" H 5720 5205 50  0000 L CNN
F 2 "" V 5580 5250 50  0001 C CNN
F 3 "~" H 5650 5250 50  0001 C CNN
	1    5650 5250
	1    0    0    -1  
$EndComp
Wire Wire Line
	5950 5450 5950 5300
Wire Wire Line
	5050 5100 5200 5100
Text GLabel 5050 5100 0    50   Input ~ 0
VIN4
Wire Wire Line
	6200 4750 6200 4900
$Comp
L Device:R R10
U 1 1 60629538
P 5350 5100
F 0 "R10" V 5143 5100 50  0000 C CNN
F 1 "100" V 5234 5100 50  0000 C CNN
F 2 "" V 5280 5100 50  0001 C CNN
F 3 "~" H 5350 5100 50  0001 C CNN
	1    5350 5100
	0    1    1    0   
$EndComp
$Comp
L Device:L L4
U 1 1 6062953E
P 6200 4600
F 0 "L4" H 6252 4646 50  0000 L CNN
F 1 "4/3VALVE" H 6252 4555 50  0000 L CNN
F 2 "" H 6200 4600 50  0001 C CNN
F 3 "~" H 6200 4600 50  0001 C CNN
	1    6200 4600
	1    0    0    -1  
$EndComp
$Comp
L Device:R R8
U 1 1 60629544
P 6200 4200
F 0 "R8" H 6270 4246 50  0000 L CNN
F 1 "120" H 6270 4155 50  0000 L CNN
F 2 "" V 6130 4200 50  0001 C CNN
F 3 "~" H 6200 4200 50  0001 C CNN
	1    6200 4200
	1    0    0    -1  
$EndComp
Wire Wire Line
	6200 4350 6200 4450
$Comp
L power:+12V #PWR0107
U 1 1 6062954B
P 5950 3850
F 0 "#PWR0107" H 5950 3700 50  0001 C CNN
F 1 "+12V" H 5965 4023 50  0000 C CNN
F 2 "" H 5950 3850 50  0001 C CNN
F 3 "" H 5950 3850 50  0001 C CNN
	1    5950 3850
	1    0    0    -1  
$EndComp
Wire Wire Line
	5750 4450 5750 3900
Wire Wire Line
	5750 3900 5950 3900
Wire Wire Line
	5950 3900 5950 3850
Wire Wire Line
	5950 3900 6200 3900
Wire Wire Line
	6200 3900 6200 4050
Connection ~ 5950 3900
$EndSCHEMATC
